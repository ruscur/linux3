Test the nx-gzip function:
=========================

Verify that following device exists:
  /dev/crypto/nx-gzip
If you get a permission error run as sudo or set the device permissions:
   sudo chmod go+rw /dev/crypto/nx-gzip
However, chmod may not survive across boots. You may create a udev file such
as:
   /etc/udev/rules.d/99-nx-gzip.rules


Then make and run:
$ make
gcc -O3 -I./inc -o gzfht_test gzfht_test.c gzip_vas.c
gcc -O3 -I./inc -o gunz_test gunz_test.c gzip_vas.c


Compress any file using Fixed Huffman mode. Output will have a .nx.gz suffix:
$ ./gzfht_test gzip_vas.c
file gzip_vas.c read, 5218 bytes
compressed 5218 to 2545 bytes total, crc32 checksum = 817543a3


Uncompress the previous output. Output will have a .nx.gunzip suffix:
./gunz_test gzip_vas.c.nx.gz
gzHeader FLG 0
00 00 00 00 04 03
gzHeader MTIME, XFL, OS ignored
computed checksum 817543a3 isize 00001462
stored   checksum 817543a3 isize 00001462
decomp is complete: fclose


Compare two files:
$ sha1sum gzip_vas.c.nx.gz.nx.gunzip gzip_vas.c
4e87536f3ee9e771ef30fb0fb27572032ca44ef8  gzip_vas.c.nx.gz.nx.gunzip
4e87536f3ee9e771ef30fb0fb27572032ca44ef8  gzip_vas.c


Note that the code here are intended for testing the nx-gzip hardware function.
They are not intended for demonstrating performance or compression ratio.
For more information and source code consider using:
https://github.com/libnxz/power-gzip
